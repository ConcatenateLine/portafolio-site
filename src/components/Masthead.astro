---
import { languageStore } from '../store/languageStore';
import LanguageToggle from './LanguageToggle.astro';

const { currentDate } = Astro.props;
const t = (key: string) => languageStore.translate(key)
---

<div>
    <!-- Masthead -->
    <header class="vintage-secondary-bg border-b-4 vintage-border">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <!-- Newspaper Header -->
            <div class="newspaper-header">
                <div class="newspaper-date">
                    <span>Vol. 1, No. 1</span>
                    <span>{currentDate}</span>
                    <span class="flex gap-4 items-center">
                        <slot name="right-top" />
                        <LanguageToggle />
                    </span>
                </div>
                <h1 class="font-['Playfair_Display'] text-6xl font-bold mb-2">
                    {t('header.title')}
                </h1>
                <div class="text-sm uppercase tracking-widest mb-2">
                    {t('header.subtitle')}
                </div>
                <div class="flex relative justify-center items-center gap-4 text-sm">
                    <a href="/"><span class="column-rule">{t('header.departments.bureau')}</span></a>
                    <a href="/experience"><span class="column-rule">{t('header.departments.cloud')}</span></a>
                    <a href="/"><span>{t('header.departments.tech')}</span></a>
                    <div class="newspaper-price">{t('header.price')}</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Breaking News Ticker -->
    <div class="bg-[#2b2b2b] text-[#f4f1ea] py-2 overflow-hidden">
        <div class="breaking-news-ticker">
            <div class="ticker-content">
                <span class="mr-8">
                    BREAKING: New Cloud Architecture Project Launched
                </span>
                <span class="mr-8">
                    SYSTEM PERFORMANCE IMPROVED BY 300%
                </span>
                <span class="mr-8">
                    AWARDED "ENGINEER OF THE MONTH"
                </span>
                <span class="mr-8">
                    LATEST PROJECT: DISTRIBUTED SYSTEMS AT SCALE
                </span>
            </div>
        </div>
    </div>
</div>