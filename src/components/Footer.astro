---
import { t } from "../utils/translateUtils";
import TranslationScript from "./TranslationScript.astro";

const { pageNumber = 1 } = Astro.props;
const currentYear = new Date().getFullYear();
---

<footer>
    <!-- Final Edition Notice -->
    <div class="vintage-separator"></div>
    <div class="text-center text-sm italic mt-8">
        <p data-translate="footer.typography">"{t("footer.typography")}"</p>
        <p class="mt-2">
            {currentYear}
            <span data-translate="footer.rights">{t("footer.rights")}</span>
        </p>
    </div>

    <!-- Add page fold effect -->
    <div class="page-fold"></div>

    <!-- Add random coffee stains -->
    <div
        class="coffee-stain"
        style="top: 20%; left: 15%; transform: scale(0.8) rotate(30deg);"
    >
    </div>
    <div
        class="coffee-stain"
        style="bottom: 30%; right: 10%; transform: scale(1.2) rotate(-15deg);"
    >
    </div>

    <!-- Add vintage page number -->
    <div class="text-center mt-8 mb-4">
        <div class="inline-block border-t border-b vintage-border px-4 py-2">
            <span class="text-sm font-serif">~ {pageNumber} ~</span>
        </div>
    </div>
</footer>

<TranslationScript />

<style>
    .page-fold {
        position: fixed;
        bottom: 0;
        right: 0;
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 0 0 50px 50px;
        border-color: transparent transparent #d4d4d4 transparent;
        filter: drop-shadow(-5px -5px 5px rgba(0, 0, 0, 0.1));
    }

    .coffee-stain {
        position: absolute;
        width: 100px;
        height: 100px;
        background: radial-gradient(
            circle at center,
            rgba(139, 69, 19, 0.05) 0%,
            rgba(139, 69, 19, 0.02) 50%,
            transparent 70%
        );
        pointer-events: none;
    }
</style>
